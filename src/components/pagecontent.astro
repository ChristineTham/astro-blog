---
import type { CollectionEntry } from 'astro:content'
import MoreMenu from './moremenu.astro'
import TableOfContents from './tableofcontents.astro'
import type { MarkdownHeading } from 'astro'

type Props = {
  frontmatter: CollectionEntry<'doc'>['data']
  headings: MarkdownHeading[]
  githubEditUrl: string
}

const { frontmatter, headings, githubEditUrl } = Astro.props as Props
const title = frontmatter.title
---

<article
  id='article'
  class='max-w-2xl min-w-0 flex-auto px-4 py-16 lg:max-w-none xl:px-16 lg:pl-8 lg:pr-0'
>
  <section class='mb-9 space-y-1'>
    <p class='font-display text-sm text-purple-600 font-medium dark:text-purple-300'>
      {frontmatter.section}
    </p>
    <h1 class='font-display text-3xl text-slate-900 tracking-tight dark:text-white'>
      {title}
    </h1>
    <nav class='block sm:hidden'>
      <TableOfContents headings={headings} />
    </nav>
    <slot />
  </section>
  <nav class='block sm:hidden'>
    <MoreMenu editHref={githubEditUrl} />
  </nav>
</article>
